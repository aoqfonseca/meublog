--- 
layout: post
title: "C\xC3\xB3digo ruby de robot para twitter"
tags: 
- "Inform\xC3\xA1tica"
status: publish
type: post
published: true
meta: 
  _edit_last: "1"
---
Quem nunca passou pela situação onde estava no trabalho e achou algo super legal para baixar e não tinha como.  Bem agora, com a ajuda do twitter isso é possível de forma automática: você notificar o seu computador de casa para que ele "comece" a pegar o arquivo para você. Você pensar que seria algo inútil, mas imagine isso quando pensamos em torrent: você manda o endereço do arquivo, o sistema baixa-o e em seguida começa baixar o arquivo e, quando você chega em casa, o arquivo está bonitinho.
Para resolver isso para mim, recorri ao Ruby - linguagem de programação e uma api para acessar ao twitter (abaixo verão o código fonte do programa). Notem o quão simples foi fazer isso:
<code lang="Ruby">
require 'rubygems'
require  'twitter'

#Criando um cliente a partir das configurações contidas no arquivo YAML
cliente  = Twitter::Client::from_config('config_twitter.yml','dev')
timeline = cliente.timeline_for(:me) do |status|
	      pattern = /(pega|wget) (http:\/\/.*$)/
	      texto = status.text
	      command = 'wget '
	      if(pattern =~ texto)
		  command << $~[2]
		system command
             end
end
</code>
Depois, como utilizo o ubuntu, foi colocar a execução do arquivo no cron (configurei para executar a cada 30 min),. Se tiver Windows basta criar uma tarefa agendada.
Pronto !.
Agora você tem um sistema que irá ler o seu twiter ou qualquer que queira e assim que aparecer um texto com "pega(ou  wget)" seguido de uma url, ele irá realizar o download da url e se este for um torrent, baixar o arquivo do torrent. Genial e simples não.
