
<!DOCTYPE HTML>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Meu Blog, by Andre Fonseca</title>

  <meta name="author" content="Andre Fonseca">
  
  <meta name="description" content="O Bom, O Feio E O Mal Em Desenvolvimento - Parte 2 - Revisores E Arquitetos? Jan 14th, 2010 E dando seguimento a serie sobre algumas coisas &hellip;">
  
  

  <link rel="canonical" href="http://andrefonseca.net/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Meu Blog, by Andre Fonseca" type="application/atom+xml">
</head>
  
<body class="default">
  <div id="wrapper">
    <div id="header">
  <h1><a href="/">Meu Blog, by Andre Fonseca</a></h1>
  
    <p>Pensamentos, opiniões e alguns estudos</p>
  
</div>
<ul id="social-links">
  
    <li><a class="feed" href="/atom.xml" title="RSS">RSS</a></li>
  
  
    <li><a class="twitter" href="http://twitter.com/aoqfonseca" title="Twitter">Twitter</a></li>
  
  
    <li> <a class="github" href="https://github.com/aoqfonseca" title="GitHub">GitHub</a> </li>
  
</ul>
<div class="clear"></div>
<ul id="nav">
  
    <li> <a href="/" class="current">blog</a> </li>
  

  
    <li><a href="/blog/archives">archives</a></li>
  
</ul>

    <div id="main"> 

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2010/01/14/o-bom-o-feio-e-o-mal-em-desenvolvimento-parte-2-revisores-e-arquitetos/">O Bom, O Feio E O Mal Em Desenvolvimento - Parte 2 - Revisores E Arquitetos?</a>
    </h1>
  
  








  


<time datetime="2010-01-14T00:00:00-02:00" pubdate data-updated="true">Jan 14<span>th</span>, 2010</time>
</div>

<div class="post-content">E dando seguimento a serie sobre algumas coisas interessantes sobre o desenvolvimento, vamos para mais um novo capítulo.  [OFF] São tantas histórias vou acabar escrevendo um romance [/OFF].   Após a repercussão do primeiro artigo de mesmo nome, alguns conhecidos me procuraram para dizer que, existiam outras situações que poderia abordar dentro da série.  Uma dessas situações foi sobre estruturas de equipes de desenvolvimento e  com isso, acabei  me lembrando de uma época,  numa dada empresa, em que tínhamos a figura do revisor de códigos. É isso mesmo que você leu, meu amigo &#8230;<strong>revisor de código</strong>.

O revisor de código é o cara que após você ter implementado toda  a solução, antes de você colocar as sua alterações no CVS  (meu deus, antigo), ele vem e verifica se o seu código está bom, onde bom, significa dentro de um padrão que não está em lugar que não na cabeça dele.  Antes que me apedrejem em praça pública,  sei que nem todos são assim, e que em muitos tinha ou tem, regras de estilo bem claras e até automatizadas através de plugins em suas IDEs.

Revisar o código não é uma atividade ruim. Ter premissas de estilo e formatação é algo interessante pois padroniza e pode facilitar qualquer pessoa, que esteja acostumado com os padrões da empresa, ler o fonte e entender.  Essa preocupação, inclusive,  tem sido tema de discussões muito atuais e serve até de argumento para definir o uso ou não de linguagens ( sendo mais específico, são questões como expressividade, legibilidade, etc - suggar sintaxe) . A questão que eu coloco é isso passar o limite do bom senso e do razoável e se tornar uma ditadura sem direito de questionamento.

A própria situação de ter uma <strong>única</strong> pessoa responsável por zelar pela qualidade do código para mim já é algo péssimo.

Mas então? Qual é o melhor cenário?  O que pode ser feito, já que eu disse que qualidade e estilo são bons, se ter alguém revisando é péssimo?

Alguém aí, por acaso, disse &#8230; Programação em par!?!?!? Bingo!!!   Essa, no meu entender, é um bom caminho.  É bom, pois permite a troca, a interação. É bom, pois permite, que a responsabilidade seja de todos e não somente de uma única pessoa. Tira gargalos ( quem nunca ficou parada esperando o revisor ter tempo para ver e validar a implementação).  O time como um todo decide o que é melhor.

Nesse cenário as chances das coisas serem menos impostas e mais consenso são grandes. Não existe um ponto único e sim diversidade de visões.  O time fica aberto e sempre como abertura para melhorar ou experimentar, desde que todos concordem ou pelo menos seu par, que aquilo traz algum valor.

Observem - bem lembrado por um colega - que nem toquei no fato de revisão de tecnologia, arquitetura.  Na velhas e empoeiradas estruturas de fábrica,  tem casos em que além do revisor, tem ainda o grande e todo poderoso arquiteto que decide quais tabelas, quantas classes, como as classes são, qual linguagem, api, framework, qual papel higiênico, que  todos devem usar.  Para mim isso consegue ser pior que o revisor. Pois ele tolhe a inovação, o salto para frente.  não quero dizer com isso, que devemos fazer de nossos projetos um laboratório de novas linguagens e etc&#8230; estou dizendo que se existe algo que venha a facilitar porque não pelo menos olhar o que é &#8230;

Novamente transferir essa &#8220;responsabilidade &#8221; para o time é a melhor coisa.  Pois se discute. Todos tem voz.  A chance de escolher algo interessante é maior&#8230; não fica a cargo de um louco que pode ser um tarado por novidades ou um louco que nunca deixará de usar Java 1.3.1 pois sempre funcionou e &#8220;não se mexe em time que está ganhando&#8221;.

Bem esse era meu recado&#8230; aguardo as opiniões de vocês.
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2010/01/12/objetos-trocam-mensagens/">Objetos Trocam Mensagens</a>
    </h1>
  
  








  


<time datetime="2010-01-12T00:00:00-02:00" pubdate data-updated="true">Jan 12<span>th</span>, 2010</time>
</div>

<div class="post-content">Mais uma vez, devido a uma outra troca de e-mails,  vi um outro assunto super legal que gostaria de dividir com vocês.  A um certo tempo atrás, no blog do <a href="http://blog.fragmental.com.br">Calcado</a>, li um artigo sobre o fato de objetos não serem atributos + funções. Neste artigo, o <a href="http://blog.fragmental.com.br">Calcado</a>, mostra que os objetos ao invés de possuírem atributos e funções, eles na verdade possuem estados e comportamentos.  Reproduzindo um trecho do artigo :
<blockquote>Objetos não possuem propriedades + funções, eles possuem<strong>estado + comportamento</strong>. Você provavelmente vai usar atributos (i.e. variáveis de instancia) e funções (de instancia também) para implementar isso mas é um detalhe de implementação, não algo que deva ser exposto [sic]</blockquote>
Uma outra coisa que penso é que além disso que ele comentou, uma outra dificuldade que vejo no pessoal que está &#8220;montando&#8221; a arquitetura de sistemas, é definir como será a interação entre objetos.  Quem nunca ficou horas pensando onde colocar determinado método - &#8221;<em>o método calcular preço  é da loja ou do produto?</em>&#8221;; nome do método,  se deveria expor dados por get e set, etc .  Essa dúvidas vem da nossa visão equivocada da troca de dados entre objetos.

<img class="alignleft" style="margin: 11px;" src="http://images.quebarato.com.br/photos/big/9/7/1B8097_1.jpg" alt="" width="229" height="185" />Se considerarmos que objetos não possuem métodos ou funções( função me parece tão modular e não OO) e sim &#8220;portas de entradas&#8221;.   Essas portas são como caixas de correio por onde enviamos e/ou recebemos mensagens com pedidos ou informações.  Para ficar mais fácil de entender,  imaginemos a situação de uma grande rede de lojas.  Esse grande rede possui diversas lojas, que possuem diversos produtos e clientes.  De cara, podemos dizer que temos 3 entidades :  Cliente, Produto e Loja.

Agora a pergunta: como você implementaria a lógica de obter preço - o cliente vai na loja, pega um produto e quer saber o preço.  Tenho certeza que alguns diriam que colocariam um método getPreco na classe de produto.  Outros fariam um PrecoControlador que pegaria o custo do produto e faria a operação de cálculo pegando a margem de lucro da loja, custo da loja e por seguiria&#8230;. Outros inventariam a classe preço que diante a loja e produto se calcularia&#8230;.  De novo fazendo assim ainda estamos pensando em objetos como conjunto de funções e atributos e esquecendo da troca de mensagens.

Uma forma que vejo mais simples e mais expressiva de fazer (logo fica mais claro para entender o sistema) seria de perguntar para a loja o preço. Sendo assim, o cliente teria um produto e perguntaria a loja o preço. A loja consulta sua tabela de preço e responde.
<blockquote>Cliente  &#8211; pega produto &#8211;  &gt; Produto

Cliente &#8211; informa o produto a loja &#8211;&gt; Loja

Loja &#8211; consulta tabela &#8211;&gt; Tabela

Loja &#8211; responde ao cliente &#8211;&gt;</blockquote>
Fica bem elegante não&#8230; Mas se ainda não conseguiu ver:
<blockquote>class Andre  extends Cliente

&#8230;

Produto lapis = new Lapis();

double preco = lojaAbobrinha.qualEhOPreco(lapis);

..

Abobrinha extends Loja

&#8230;

double qualEhOPreco(Produto produto)

minhaTabelaPreco.qualPrecoAtual(produto);</blockquote>
Quem for fazer a manutenção do código,  só de ler, já começa a entender oque está acontecendo e começa deduzir as demais interações.
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2010/01/11/o-bom-o-feio-e-o-mal-em-desenvolvimento-parte-1-testes-automatizados/">O Bom, O Feio E O Mal Em Desenvolvimento - Parte 1 - Testes Automatizados</a>
    </h1>
  
  








  


<time datetime="2010-01-11T00:00:00-02:00" pubdate data-updated="true">Jan 11<span>th</span>, 2010</time>
</div>

<div class="post-content"><div id="_mcePaste"><img class="alignleft" title="bom, feio e mal" src="http://i.s8.com.br/images/dvds/cover/img4/1027174_4.jpg" alt="" width="300" height="300" />Conversando com um colega do trabalho, discutíamos sobre a questão dos testes automatizados. Confesso, que nessa altura dos acontecimentos de TI, esse assunto estaria mais que esgotado, porém para minha surpresa, existe gente que ainda insiste dizer que é &#8220;perda de tempo&#8221; e outros termos menos lisonjeiros.</div>
<div></div>
<div id="_mcePaste">Esse colega me contou de um projeto onde existiam diversos problemas e que o cliente estava bastante insastifeito, entre outras coisas, com a qualidade das entregas. Isso porque, segundo o próprio cliente, várias vezes as alterações feitas ocasionavame na quebra de funcionamento em outras partes que aparentemente não tinham relação com a mudança pedida.</div>
<div id="_mcePaste">Quem um dia já trabalho com portais, por exemplo, sabe a encrenca que isso é: páginas, conteúdo dinâmico, caches primários e secundários, gestão de conteúdo instâncias de serviços, etc. Com isso, o entrelaçamento das coisas  é enorme e qualquer alteração implica, considerando situação ideal, no teste de todo o portal. Testar o portal inteiro significa, para uma pessoa, horas e até dias de trabalho (se considerarmos portais de notícias como o G1 e o R7). Agora imagina testar todo o portal a cada commit que for feito&#8230; impossível né! não quando automatizamos nossos testes ao invés de delegar isso para uma pessoa.</div>
<div></div>
<div id="_mcePaste">Antes que comecem o apedrejamento em praça pública de minha pessoa, não estou dizendo para demitir toda a sua equipe de testes (os famosos homologadores). Estou dizendo que as coisas podem ser feitas com um pouco mais de inteligência e maior valor agregado para o cliente.</div>
<div id="_mcePaste">Voltando a história do meu amigo, devido a questões de negócio, optaram por não &#8220;gastar&#8221; tempo em criar testes automatizados e o cliente se prontificou em testar tudo que era feito através de sua equipe interna de testadores profissionais. Nem preciso dizer que esta é a raiz da insatisfação do cliente com o quesito qualidade do projeto. Fazendo uso de um ditado popular : &#8220;Cão com muito dono ou nenhum, morre de fome de sede&#8221; .</div>
<div id="_mcePaste"></div>
<div>Nessa história, quem tomava a decisão estava com uma visão antiga e com prazo de validade vencido sobre a questão de testes. Eles realmente acreditaram ( e acreditam - daqui a pouco chego lá) que investir em automatizar testes é custo e não investimento.  Esqueceram de considerar a qualidade&#8230; pensaram somente que precisavam colocar no ar o mais rápido o possível o sistema e os &#8220;fins justificariam os meios empregados&#8221;. Eles já estão pagando o preço pela péssima escolha, mas como todo &#8220;cego opcional&#8221; eles, pasmem vocês, não querem que &#8220;percamos&#8221; tempo em fazer esses bobeiras e culpam os desenvolvedores de todos os erros chamando-nos de incompetentes.</div>
<div></div>
<div id="_mcePaste">A minha resposta para este conhecido foi simples: mude de emprego. Faltou alguém de visão no projeto para entender que teste nunca é demais. Testes automatizados são um ganho e não perda de tempo. Vejam que nem estou falando em TDD, estou apenas considerando os testes !!!!</div>
<div></div>
<div id="_mcePaste">Quando &#8220;cercamos&#8221; nossas as aplicações testes, no mínimo estamos tentando protejar a consistencia da aplicação, evitando que mudanças quebrem-na. Claro que esse testes poderiam ser feitos por uma pessoa, mas imagine o custo (dinheiro mesmo !!!! tempo!!!) para que isso fosse feito num tempo hábil e com um retorno rápido para o desenvolvedor&#8230; Teste automatizados garantem isso. Sua aplicação pode ser testado o tempo todo e com isso, mesmo pequenas alterações levam a testar o todo verificando se a integridade não foi quebrada.</div>
<div></div>
<div id="_mcePaste">Isso, apesar de no começo representar mais trabalho, no final, gera um valor agregado imenso pois as coisas são entregues quando realmente estão prontas e com uma qualidade minima. Caso ainda queiram passar pela equipe de homologação, essa ficará livre para testar os requisitos e não se campo numérico aceita string.</div>
<div></div>
<div id="_mcePaste">Na literatura corrente, e por isso não foi me extender mais, existem diversos livros, artigos, blogs, textos, twitter, etc mostrando e provando porque devemos usar testes automatizados. Porém, me assusta o fato de ainda existirem gerentes, diretores e donos de empresa que consideram isso perda de tempo. Para estes a previsão é sombria. O mercado está aquecido por isso qualquer &#8220;bundão&#8221; consegue vender algo. Haverá um momento de retração e nova expansão e aí, somente quem estiver pronto, ágil e preparado sobreviverá&#8230; e não acredito que esses caras que eu citei estarão preparados.</div>
<div></div>
<div id="_mcePaste">Bem isso, até a próxima.</div>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/04/18/uso-do-modificador-static-dentro-do-java/">Uso Do Modificador Static Dentro Do Java</a>
    </h1>
  
  








  


<time datetime="2009-04-18T00:00:00-03:00" pubdate data-updated="true">Apr 18<span>th</span>, 2009</time>
</div>

<div class="post-content">Uma coisa que poucas pessoas sabem é que, em Java, podemos usar o modificador estático (static) para classes e que tal fato pode ser bastante util na hora de escrever algumas coisas. Antes de mais, me desculpem os mais avançados em programação, é preciso gastar algumas linhas para explicar o que significa estatico.
Dentro de orientação objeto dependendo da forma que voce declare algo dentro de uma classe, esta &#8220;coisa&#8221; terá o seu ciclo de vida ligado a classe, ou ao metodo, ou a um bloco, ou ao objeto. Em alguns livros você achará tal explicação como algo instancia do objeto, instancia do metodo, e por ai vai&#8230;. Que tal um exemplo para entendermo melhor
Instancia do Objeto
- é algo que vai existir enquanto existir o objeto. Não necessariamente nasce com o objeto mas &#8220;morre&#8221; com ele e seu valor está atrelado ao objeto.
<code>
public class Aluno {
   private String nome;
    Aluno (String val){
      this.nome = val;
   }
}
</code>
No Exemplo acima a variavel nome pertence ao objeto. Sendo assim se fizemos:
<code>
...
Aluno[] sala12 = new Aluno []{
new Aluno("aluno1"),
new Aluno("aluno2"),
new Aluno("aluno3"),
};
foreach(Aluno aluno in sala12){
 System.out.println(aluno.getNome());
}
</code>
Embora façam parte da mesma classe cada um tem seu &#8220;nome&#8221;, logo a variavel nome pertence ao objeto.
Fazendo uma pequena modificação no codigo da classe Aluno e colocando a variavel nome com o modificador static e executarmos novamente o codigo acima, a saida será o mesmo nome do ultimo setado. Isso porque a variavel deixou ser do contexto do objeto e passou para o dominio da classe; por mais instancias do objeto aluno criadas no processo da JVM, o valor do nome será unico para todas elas
<code>
public class Aluno {
   private static String nome;
    Aluno (String val){
      this.nome = val;
   }
}
</code>
Seguindo esse mesmo raciocinio podemos explicar o escopo de metodo e bloco&#8230;. Mas deixo isso para o pessoal estudar senão vai ficar muito extenso o post.
	<li><strong> Logo ser estatico ou a função do modificador estatico (static) é de informar ao compilador e executor que aquela variavel, emtodo, ou quaisquer outras coisas são da classe</strong></li>

Uma segundo coisa a explicar antes de falarmos de classes estáticas, tipos de classes. Dentro de java voce pode ter os seguintes tipos: top-level e inner classes.
	<li>Top level classes</li>
São as classes comuns: cada classe tem seu arquivo proprio e está inserida dentro de um pacote. SEria como escrever o arquivo Aluno.java e dentro dele especificar a classe Aluno. Esta classe aluno será uma top level.  <strong>Este tipo de classe não pode ser estatica</strong>
<li>Inner classes</li>
São classes que pertencem a outras classes. São como propriedade de uma classe e declaradas dentro da especificação de uma classe. Elas podem ser anonimas ou locais. Vejam os dois exemplos abaixo:
<code>
okButton.addActionListener( new ActionListener(){
   public void actionPerformed(ActionEvent e){
      dispose();
   }
});
______________________________________________________
class ListListener implements ItemListener {
      List list;
      public ListListener(List l) {
         list = l;
      }
      public void itemStateChanged(ItemEvent e) {
         String s = l.getItemSelected();
         doSomething(s);
      }
   }
   List list1 = new List();
   list list2 = new List();
   list1.addItemListener(new ListListener(list1));
   list2.addItemListener(new ListListener(list2));
}
</code>
As classes locais podem ser estaticas. Isso, de acordo como definimos em cima, significa dizer que voce tem uma classe que está definida dentro da outra classe e pertence a ela e não ao objeto que será instanciado dela.
Exemplo(tirado do artigo da <a href="http://www.javaworld.com/javaworld/javaqa/1999-08/01-qa-static2.html?page=1">Java world</a>:
<code>
public class Filter {
   Vector criteria = new Vector();
   public addCriterion(Criterion c) {
      criteria.addElement(c);
   }
   public boolean isTrue(Record rec) {
      for(Enumeration e=criteria.elements();
      e.hasMoreElements();) {
         if(! ((Criterion)e.nextElement()).isTrue(rec))
             return false;
      }
      return true;
   }
   public static class Criterion {
      String colName, colValue;
      public Criterion(Stirng name, String val) {
         colName = name; colValue = val;
      }
      public boolean isTrue(Record rec) {
         String data = rec.getData(colName);
         if(data.equals(colValue)) return true;
         return false;
      }
   }
}
</code>
E para usar:
<code>
Filter f = new Filter();
f.addCriterion(new Filter.Criterion("SYMBOL", "SUNW"));
f.addCriterion(new Filter.Criterion("SIDE", "BUY"));
.....
if(f.isTrue(someRec)) //do some thing .....
</code>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/04/14/lendo-um-arquivo-permitindo-que-outro-processo-ou-programa-o-altere/">Lendo Um Arquivo Permitindo Que Outro Processo Ou Programa O Altere</a>
    </h1>
  
  








  


<time datetime="2009-04-14T00:00:00-03:00" pubdate data-updated="true">Apr 14<span>th</span>, 2009</time>
</div>

<div class="post-content">Estava escrevendo um sistema no meu trabalho em C# (csharp) onde se conecta ao log de uma aplicação e escreve as linhas deste num panel (winform). A primeira dificuldade foi como poderia permanecer lendo o arquivo de forma continua. Resolvi com o trecho de codigo abaixo:
<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">try</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>      <span class="n">StreamReader</span> <span class="n">reader</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StreamReader</span> <span class="p">(</span><span class="n">File</span><span class="p">.</span><span class="n">OpenRead</span><span class="p">(</span><span class="s">&quot;&lt;caminho completo do arquivo&gt;&quot;</span><span class="p">))</span>
</span><span class='line'>      <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>           <span class="n">msg</span> <span class="p">=</span> <span class="n">reader</span><span class="p">.</span><span class="n">ReadLine</span><span class="p">();</span>
</span><span class='line'>           <span class="p">...</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>     <span class="n">System</span><span class="p">.</span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>
    Bem isso funcionou bem, a questão que ao fazer isso, por padrão o sistema trava o arquivo não permitindo que outro processo possa escrever no documento. Como queria apenas ler e permitir que a aplicação continuasse a escrever seu log, a solução foi, explicitar o a abertura do arquivo, pelo metodo Open, algumas diretivas. Fica mais ou menos assim:
    
<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">StreamReader</span> <span class="n">reader</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StreamReader</span><span class="p">(</span><span class="n">File</span><span class="p">.</span><span class="n">Open</span><span class="p">(</span><span class="s">&quot;path&quot;</span><span class="p">,</span><span class="n">FileMode</span><span class="p">.</span><span class="n">Open</span><span class="p">,</span><span class="n">FileAccess</span><span class="p">.</span><span class="n">Read</span><span class="p">,</span> <span class="n">FileShare</span><span class="p">.</span><span class="n">ReadWrite</span><span class="p">));</span>
</span><span class='line'><span class="p">...</span>
</span></code></pre></td></tr></table></div></figure>

Isso funcionou legal e me serviu bem pois agora tenho uma ferramenta simples para ficar vendo o log da minha aplicação.
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/03/29/groovy-como-opcao/">Groovy Como Opção</a>
    </h1>
  
  








  


<time datetime="2009-03-29T00:00:00-03:00" pubdate data-updated="true">Mar 29<span>th</span>, 2009</time>
</div>

<div class="post-content">Durante o encontro de TI, houve uma apresentação do <a href="http://gc.blog.br">Guilherme Chapiewiski</a>, onde ele falou um pouco do que ele acredita que venha ser as tecnologias que estão na &#8220;moda&#8221; ou que virão a ser moda. Em sua apresentação ele apresentou o Ruby, Python (<a href="http://www.djangoproject.com/">Django</a>), falou do Java e por fim do ASP.NET. De cada uma citada, ele apresentou seu entendimento de prós e contras.  Concordo com ele em parte mas não é o objetivo aqui deste post.

Acabou que devido o interesse por parte dos participantes no tema não tive a oportunidade de conversar com ele depois, pois acredito que na palestra dele &#8220;faltou&#8221; falar também no Groovy. O Groovy é uma linguagem criada, totalmente, em Java, com o objetivo de ser algo parecido com Ruby, python, etc.  Hoje, com as melhorias continuas que vem recebendo, tornou-se um excelente opção frente as demais.  Possui característica semelhantes ao Ruby, Python, etc, como por exemplo a questão da flexibilidade para sintaxe e escrita de código, tipagens dinamicas, closures, etc. (veja exemplo abaixo)
<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">nome</span> <span class="o">=</span> <span class="o">[</span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="s">&quot;b&quot;</span><span class="o">,</span><span class="s">&quot;C&quot;</span><span class="o">]</span>
</span><span class='line'><span class="n">nome</span><span class="o">.</span><span class="na">each</span><span class="o">{</span>
</span><span class='line'>     <span class="n">println</span> <span class="n">it</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>

Outro exemplo

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">groovy.xml.MarkupBuilder</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.custommonkey.xmlunit.*</span>
</span><span class='line'>
</span><span class='line'><span class="n">def</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringWriter</span><span class="o">()</span>
</span><span class='line'><span class="n">def</span> <span class="n">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MarkupBuilder</span><span class="o">(</span><span class="n">writer</span><span class="o">)</span>
</span><span class='line'><span class="n">xml</span><span class="o">.</span><span class="na">records</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">car</span><span class="o">(</span><span class="nl">name:</span><span class="err">&#39;</span><span class="n">HSV</span> <span class="n">Maloo</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">make:</span><span class="err">&#39;</span><span class="n">Holden</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">year:</span><span class="mi">2006</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">country</span><span class="o">(</span><span class="err">&#39;</span><span class="n">Australia</span><span class="err">&#39;</span><span class="o">)</span>
</span><span class='line'>    <span class="n">record</span><span class="o">(</span><span class="nl">type:</span><span class="err">&#39;</span><span class="n">speed</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">Production</span> <span class="n">Pickup</span> <span class="n">Truck</span> <span class="n">with</span> <span class="n">speed</span> <span class="n">of</span> <span class="mi">271</span><span class="n">kph</span><span class="err">&#39;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="n">car</span><span class="o">(</span><span class="nl">name:</span><span class="err">&#39;</span><span class="n">P50</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">make:</span><span class="err">&#39;</span><span class="n">Peel</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">year:</span><span class="mi">1962</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">country</span><span class="o">(</span><span class="err">&#39;</span><span class="n">Isle</span> <span class="n">of</span> <span class="n">Man</span><span class="err">&#39;</span><span class="o">)</span>
</span><span class='line'>    <span class="n">record</span><span class="o">(</span><span class="nl">type:</span><span class="err">&#39;</span><span class="n">size</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">Smallest</span> <span class="n">Street</span><span class="o">-</span><span class="n">Legal</span> <span class="n">Car</span> <span class="n">at</span> <span class="mi">99</span><span class="n">cm</span> <span class="n">wide</span> <span class="n">and</span> <span class="mi">59</span> <span class="n">kg</span> <span class="n">in</span> <span class="n">weight</span><span class="err">&#39;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="n">car</span><span class="o">(</span><span class="nl">name:</span><span class="err">&#39;</span><span class="n">Royale</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">make:</span><span class="err">&#39;</span><span class="n">Bugatti</span><span class="err">&#39;</span><span class="o">,</span> <span class="nl">year:</span><span class="mi">1931</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">country</span><span class="o">(</span><span class="err">&#39;</span><span class="n">France</span><span class="err">&#39;</span><span class="o">)</span>
</span><span class='line'>    <span class="n">record</span><span class="o">(</span><span class="nl">type:</span><span class="err">&#39;</span><span class="n">price</span><span class="err">&#39;</span><span class="o">,</span> <span class="err">&#39;</span><span class="n">Most</span> <span class="n">Valuable</span> <span class="n">Car</span> <span class="n">at</span> <span class="n">$15</span> <span class="n">million</span><span class="err">&#39;</span><span class="o">)</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>

A sua comunidade é bastante ativa e vem trabalhando firme no proposito de torná-la interessante e poderosa, o que a torna uma séria candidata a ser a segunda linguagem &#8220;oficial&#8221; da plataforma JAVA ( para mim no curto tempo JAVA deixará ser uma linguagem a se codificar para uma plataforma para desenvolver sobre - assunto para outro post). Isso porque, além de todo o trabalho, Groovy oferece aos desenvolvedores Java uma transição suave, pois permite que escreve em sintaxe JAVa dentro de seus programas,  trabalha com classe Java, etc.
Além de tudo isso já citado, ainda temos a questão da grande quantidade de extensões, plugins, frameworks feitos em e para groovy que so enriquecem, como por exemplo, existe uma implementação Rails em groovy que é excelente.
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/03/17/vmsrdb/">Erro Ao Conectar RDB via Odbc (VMS )</a>
    </h1>
  
  








  


<time datetime="2009-03-17T00:00:00-03:00" pubdate data-updated="true">Mar 17<span>th</span>, 2009</time>
</div>

<div class="post-content">Esse post é para eu lembrar como se faz para resolver um problema. Quando tenta-se conectar a um RDB que está num alpha via ODBC (tem que ter o driver para isso) e aparece o erro [ORACLE][ODBC][RDB]RDB-F-BAD_DB_HANDLE &#8230;.

As configurações do obdc, em meu caso pelo menos, são: Service : Generic e String : attache &#8216;filename file$db&#8217;;

Googleando a internet achei que a solução seria (funcionou no meu caso)
1 - Log no seu aplha
2 - Vá para o diretório sys$manager
3 - Veja o log do banco ( faça um dir por dir *SQLSRV_DIS*.LOG
4- Entre no arquivo&#8230; nas últimas linhas deve aparecer algo parecido com :
<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>---EVENT BEG: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.340 2008— %SQLSRV-I-EVENT_LOG, event logged at line 2814 in file CMD.C;1 %SQLSRV-I-CONNECTNAME, Connect : CONNECT_0000028 %SQLSRV-I-CONNECTSTATE, Connect state: 4 %SQLSRV-I-USERNAME, User name: FIELD %SQLSRV-I-NODENAME, Node : 192.168.1.1 %SQLSRV-I-APPLNAME, Application : odbcad32 %SQLSRV-I-SERVICENAME, Service : GENERIC ---EVENT END: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.360 2008— ---EVENT BEG: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.670 2008— %SQLSRV-I-EVENT_LOG, event logged at line 4455 in file COM_DIALOG.C;1 %SQLSRV-E-READERR, Error on <span class="nb">read</span> %SYSTEM-F-LINKDISCON, network partner disconnected logical link ---EVENT END: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.680 2008— ---EVENT BEG: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.700 2008— %SQLSRV-I-EVENT_LOG, event logged at line 286 in file DISP.C;1 %SQLSRV-W-EXCEPTION_RAISE, Exception raised: DBS_SYSERVICEFAILED %SQLSRV-I-CONNECTNAME, Connect : CONNECT_0000028 %SQLSRV-I-CONNECTSTATE, Connect state: 2 %SQLSRV-I-USERNAME, User name: FIELD %SQLSRV-I-NODENAME, Node : 192.168.1.1 %SQLSRV-I-APPLNAME, Application : odbcad32 %SQLSRV-I-SERVICENAME, Service : GENERIC ---EVENT END: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.710 2008— ---EVENT BEG: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.940 2008— %SQLSRV-I-EVENT_LOG, event logged at line 2814 in file CMD.C;1 %SQLSRV-I-CONNECTNAME, Connect : CONNECT_0000029 %SQLSRV-I-CONNECTSTATE, Connect state: 4 %SQLSRV-I-USERNAME, User name: FIELD %SQLSRV-I-NODENAME, Node : 192.168.1.1 %SQLSRV-I-APPLNAME, Application : odbcad32 %SQLSRV-I-SERVICENAME, Service : GENERIC ---EVENT END: EVENT_LOG ------------------------ Tue Mar 11 12:02:41.960 2008—
</span></code></pre></td></tr></table></div></figure>

A origem deste problema vem da questão da versão do SQL que está sendo executado (Versão 7) sendo assim é necessário mudar a versão do serviço generic para a 7.1 , para isso tem que ser feito os passos

1- Va para o sys$system
2- execute run sqlsrv_manager71
3 - Vai aparecer o prompt SQLSRV
4 - Digite o comando : show service generic full;

<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Service GENERIC
</span><span class='line'>State:                    RUNNING
</span><span class='line'>Owner:                    SQLSRV<span class="nv">$DEFLT</span>
</span><span class='line'>Owner Password:                Protocol:                 SQL/Services     Default Connect Username:      Default Connect Password:     SQL version:              STANDARD     Autostart:                on     Process init:                  Attach:                        Schema:                        Reuse:                    SESSION     Database Authorization:   CONNECT USERNAME     dbsrc file:                    SQL init file:                 Appl Transaction Usage:   SERIAL     Idle User Timeout:             Idle Exec Timeout:        1800 seconds     Min Executors:            2     Max Executors:            10     Running Executors:        2     Clients Per Executor:     1     Active Clients:           1 Access to service GENERIC     Granted to users:         PUBLIC  PRIVILEGED_USER <span class="s1">&#39;SQLSRV$DEFLT&#39;</span> SQLSRV&gt;
</span></code></pre></td></tr></table></div></figure>

 5 - Execute a sequencia
 
<figure class='code'> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>SQLSRV&gt; shutdown service generic;
</span><span class='line'>SQLSRV&gt; alter service generic sql version 7.1;
</span><span class='line'>SQLSRV&gt; show service generic full;
</span><span class='line'>SQLSRV&gt; start service generic;
</span><span class='line'>SQLSRV&gt; <span class="nb">exit</span>
</span></code></pre></td></tr></table></div></figure>
</div>
 </div>

  
  <div class="post"> <div class="post-header">
  
    <h1 class="post-title">
      <a href="/blog/2009/02/09/data-centerinovarvirtualizacao/">Dificuldade Em Inovar Em Data Centers Industriais</a>
    </h1>
  
  








  


<time datetime="2009-02-09T00:00:00-02:00" pubdate data-updated="true">Feb 9<span>th</span>, 2009</time>
</div>

<div class="post-content">Ultimamente meu trabalho tem me demandado bastante fazendo com que não tenho muito tempo para escrever aqui.  Gostaria de escrever hoje sobre uma questão que acredito seja de interessante e que muitos que trabalham com sistemas industriais já tenham passado.  Como já disse em outros posts neste mesmo blog, embora a informática seja a mesma, tudo que é feito voltado para a plataforma industrial tem certas particularidades: o pessoal é muito conservador quanto as soluções, evita-se ao máximo tecnologias que não estejam muito maduras, e as soluções são de certa forma bastante redundantes e antigas do ponto de vista do pessoal que trabalha em TI.  Um exemplo é que em muitas empresas opta-se por comprar dois servidores por sistema mesmo que este não vá demandar um processamento que justifique um servidor dedicado e por ai vai.
Outro dia estava fazendo o levantamento de compra para um projeto que estarei fazendo ao longo do ano.  Nesta lista deve ser previsto todo material, licenças, software, etc necessários para que seja implantada a solução. Nisso, acabei optando por não comprar um servidor pois já tinha um que estava com outro sistema instalado que não utiliza nem 10% da capacidade disponível. Qual não foi minha surpresa, quando meu chefe pediu que eu modificasse a solução proposta e que em minha lista de comprar colocasse não somente e sim dois servidores para o sistema novo.  Vendo minha expressão de supresa, ele me explicou que preferia não arriscar, ou seja, preferiu-se gastar mais algumas centenas de reais para que caso aconteça um problema com o servidor eles não percam muita produção pois dois sistemas estariam na mesma máquina.
A explicação até que faz sentido, embora, que um servidor bem acondicionado (sala climatizada, com pisos corretos, sistema de proteção, etc) tem uma probalidade de quebrar muito reduzida.  Fora isso, o custo da manutenção de um servidor por sistema é grande pois a dificuldade de backup é maior, maior é o consumo de energia, o custo de armários, etc.
Acredito que o pessoal da industrial precisa &#8220;baixar a guarda&#8221; e permitir inovações ou usar oque vem dando certo para a informatica corporativa.  Hoje sites de banco, de bolsa de valores, que são aplicações críticas, já estão em data center ultra enxutos. Logo porque não trazermos esta realidade para a industria ?
A reatividade é grande e, olha, que nem falei em virtualização.
</div>
 </div>


<div id="pagination">
  
  
    <a class="next" href="/blog/page/4/">Next&raquo;</a>
  
</div>
 </div>
    <div id="footer">
  <div class="panels">
    <div class="license">
      <h2>License</h2>
      <p>Blog sob licença creative common. Autor: Andre Fonseca <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">clique aqui</a></p>
    </div>

    <div class="posts">
      <h2>Recent Posts</h2>
      <ul>
        
          <li>
            <a href="/blog/2012/04/13/bibliotecas-javascript/">Bibliotecas para Javascript</a>
          </li>
        
          <li>
            <a href="/blog/2012/03/04/onde-buscar/">Não precisa saber tudo mas o onde buscar sim.</a>
          </li>
        
          <li>
            <a href="/blog/2012/02/29/como-ver-a-ultima-tag-que-foi-criada-no-git/">Como ver a última tag que foi criada no git</a>
          </li>
        
          <li>
            <a href="/blog/2012/02/22/cada-um-tem-que-saber-seu-papel-e-sua-responsabilidade/">Cada um tem que saber seu papel e sua responsabilidade.</a>
          </li>
        
          <li>
            <a href="/blog/2011/11/25/customizando-a-renderizacao-do-template-de-form-do-admin-do-django/">Customizando a renderizaÃ§Ã£o do template de form do admin do Django</a>
          </li>
        
      </ul>
    </div>

    <div class="douban">
      <h2>Reading</h2>
      
        <p>Please set your Douban ID in _config.yml</p>
      
    </div>
  </div>

  <p class="powered">
    Powered by <a href="http://octopress.org">Octopress</a> and <a href="https://github.com/iwinux/compbits">Compbits</a>
  </p>
</div>

  </div> <!-- #wrapper end -->

  

  

<script type="text/javascript">
      var disqus_shortname = 'blogandrefonseca';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  

  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


</body>
</html>
